<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <!-- Enable responsiveness on mobile devices-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Bio evolution notes</title>
  <meta name="description" content=" These are notes taken during RPI&#x27;s BIO 1010 course, relating to a review of evolution and life.
">

  
      <link rel="icon" type="image/svg+xml" href="https://jackysci.com/favicon.svg">
      <link rel="icon" type="image/png" href="https://jackysci.com/favicon.ico">
  

  
      <link rel="stylesheet" href="https://jackysci.com/site.css">
      <!--KaTeX-->
      <link rel="stylesheet" href="https://jackysci.com/katex/katex.min.css">

      <!--Inter-->
      <link rel="stylesheet" href="https://jackysci.com/inter/inter.css">
  

</head>

<body>

  <nav>
    <a href="/" class="active">Home</a>
    <!--incomplete about page
    <a href="about.html">About</a>
    -->
    <a href="https://jackysci.com/notes/">Notes</a>
    <a href="https://lightofhope.site/">Music</a>
    <a href="https://github.com/Songtech-0912">GitHub</a>
  </nav>

  
    <article class="post">
        <h1>Bio evolution notes</h2>
        
        <p id="print-notice">This page is print-friendly. Simply press Ctrl + P (or Command + P if you use a Mac) to print the page and download it as a PDF.</p>
        
        
        <!-- table of contents -->
        
        <details class="toc" id="toc" open>
        <summary>Table of contents</summary>
        <p class="toc-info">Note: it is highly recommended to navigate by clicking links in the table of contents! It means you can use the back button in your browser to go back to any section you were reading, so you can jump back and forth between sections!</p>
        <div>
            <ul>
            
                <li>
                    <a href="https://jackysci.com/evolution/#the-scientific-method">The scientific method</a>
                    
                </li>
            
                <li>
                    <a href="https://jackysci.com/evolution/#evolution">Evolution</a>
                    
                        <ul>
                            
                                <li>
                                    <a href="https://jackysci.com/evolution/#formation-of-earth">Formation of Earth</a>
                                </li>
                            
                        </ul>
                    
                </li>
            
                <li>
                    <a href="https://jackysci.com/evolution/#stages-of-earth">Stages of Earth</a>
                    
                        <ul>
                            
                                <li>
                                    <a href="https://jackysci.com/evolution/#black-earth-4-5-bya">Black Earth (4.5 BYA)</a>
                                </li>
                            
                                <li>
                                    <a href="https://jackysci.com/evolution/#gray-earth-4-3-bya">Gray Earth (4.3 BYA)</a>
                                </li>
                            
                                <li>
                                    <a href="https://jackysci.com/evolution/#blue-earth-3-8-bya">Blue Earth (3.8 BYA)</a>
                                </li>
                            
                                <li>
                                    <a href="https://jackysci.com/evolution/#red-earth-3-5-bya">Red Earth (3.5 BYA)</a>
                                </li>
                            
                                <li>
                                    <a href="https://jackysci.com/evolution/#white-earth-540-mya">White Earth (540 MYA)</a>
                                </li>
                            
                                <li>
                                    <a href="https://jackysci.com/evolution/#green-earth-520-mya-present">Green Earth (520 MYA - present)</a>
                                </li>
                            
                        </ul>
                    
                </li>
            
                <li>
                    <a href="https://jackysci.com/evolution/#the-origin-of-life">The origin of life</a>
                    
                        <ul>
                            
                                <li>
                                    <a href="https://jackysci.com/evolution/#building-blocks-of-life">Building blocks of life</a>
                                </li>
                            
                                <li>
                                    <a href="https://jackysci.com/evolution/#complex-biomolecules">Complex biomolecules</a>
                                </li>
                            
                                <li>
                                    <a href="https://jackysci.com/evolution/#membrane-enclosure">Membrane enclosure</a>
                                </li>
                            
                                <li>
                                    <a href="https://jackysci.com/evolution/#selection-and-evolutionary-change">Selection and evolutionary change</a>
                                </li>
                            
                        </ul>
                    
                </li>
            
                <li>
                    <a href="https://jackysci.com/evolution/#protocells-vs-living-cells">Protocells vs living cells</a>
                    
                </li>
            
                <li>
                    <a href="https://jackysci.com/evolution/#potential-life-outside-of-earth">Potential life outside of Earth</a>
                    
                </li>
            
                <li>
                    <a href="https://jackysci.com/evolution/#emergence">Emergence</a>
                    
                </li>
            
                <li>
                    <a href="https://jackysci.com/evolution/#the-definition-of-life">The definition of life</a>
                    
                </li>
            
                <li>
                    <a href="https://jackysci.com/evolution/#early-evolution-of-life">Early evolution of life</a>
                    
                        <ul>
                            
                                <li>
                                    <a href="https://jackysci.com/evolution/#hadean-eon">Hadean Eon</a>
                                </li>
                            
                                <li>
                                    <a href="https://jackysci.com/evolution/#archean-eon">Archean Eon</a>
                                </li>
                            
                                <li>
                                    <a href="https://jackysci.com/evolution/#great-oxidation-event">Great oxidation event</a>
                                </li>
                            
                                <li>
                                    <a href="https://jackysci.com/evolution/#universal-features-of-life">Universal features of life</a>
                                </li>
                            
                                <li>
                                    <a href="https://jackysci.com/evolution/#photosynthesis">Photosynthesis</a>
                                </li>
                            
                                <li>
                                    <a href="https://jackysci.com/evolution/#snowball-earth">Snowball earth</a>
                                </li>
                            
                                <li>
                                    <a href="https://jackysci.com/evolution/#ediacaran">Ediacaran</a>
                                </li>
                            
                                <li>
                                    <a href="https://jackysci.com/evolution/#the-cambrian-explosion">The Cambrian explosion</a>
                                </li>
                            
                                <li>
                                    <a href="https://jackysci.com/evolution/#tiktaalik">Tiktaalik</a>
                                </li>
                            
                        </ul>
                    
                </li>
            
                <li>
                    <a href="https://jackysci.com/evolution/#early-history-of-evolutionary-theory">Early history of evolutionary theory</a>
                    
                </li>
            
                <li>
                    <a href="https://jackysci.com/evolution/#natural-selection">Natural selection</a>
                    
                        <ul>
                            
                                <li>
                                    <a href="https://jackysci.com/evolution/#origins-of-variation">Origins of variation</a>
                                </li>
                            
                        </ul>
                    
                </li>
            
                <li>
                    <a href="https://jackysci.com/evolution/#forms-of-selection">Forms of selection</a>
                    
                </li>
            
                <li>
                    <a href="https://jackysci.com/evolution/#galapagos-finches">Galapagos finches</a>
                    
                </li>
            
                <li>
                    <a href="https://jackysci.com/evolution/#coevolution">Coevolution</a>
                    
                </li>
            
                <li>
                    <a href="https://jackysci.com/evolution/#sexual-selection">Sexual selection</a>
                    
                </li>
            
                <li>
                    <a href="https://jackysci.com/evolution/#genetic-drift">Genetic drift</a>
                    
                </li>
            
                <li>
                    <a href="https://jackysci.com/evolution/#classification-of-species">Classification of species</a>
                    
                </li>
            
                <li>
                    <a href="https://jackysci.com/evolution/#causes-of-speciation">Causes of speciation</a>
                    
                </li>
            
                <li>
                    <a href="https://jackysci.com/evolution/#ring-species">Ring species</a>
                    
                </li>
            
                <li>
                    <a href="https://jackysci.com/evolution/#mass-extinctions">Mass extinctions</a>
                    
                </li>
            
                <li>
                    <a href="https://jackysci.com/evolution/#evidence-for-evolution">Evidence for evolution</a>
                    
                </li>
            
                <li>
                    <a href="https://jackysci.com/evolution/#characteristics-of-primates">Characteristics of primates</a>
                    
                </li>
            
            </ul>
        </div>
        </details>
        

        <!-- page content -->
        <p>These are notes taken during RPI's BIO 1010 course, relating to a review of evolution and life.</p>
<span id="continue-reading"></span>
<p>It is recommended to use <code>Ctrl F</code> or the equivalent search function to find the relevant section, as these notes are quite long.</p>
<h2 id="the-scientific-method">The scientific method</h2>
<ul>
<li>Independent variable - what is varied</li>
<li>Potentially confounding (control) variables - what is kept constant</li>
<li>Dependent variable - what is measured</li>
<li>Experimental group (treatment) - the group that has been subjected to the differing independent variable</li>
<li>Control group (treatment) - the group that has not been subjected to the differing independent variable</li>
<li>Experimental units - the unit that the experimental group is tested on</li>
<li>Replicates - repeated experiments carried out to improve accuracy</li>
<li>Scope of inference - how general the results of an experiment are; with more replication the scope is greater</li>
</ul>
<h2 id="evolution">Evolution</h2>
<h3 id="formation-of-earth">Formation of Earth</h3>
<p>Billions of years ago, a supernova explosion created a nebula in where the solar system is today. While the majority of the gases in the solar system gathered to form the sun, the cloud of rocks and dust clumped together to form planets, which became rounded because of gravity. Earth itself was formed around 4.5 billion years ago.
Due to the molten conditions on Earth at the time, heavy elements such as iron sank deep inside the Earth, and lighter elements floated to the top - this is called the <strong>iron catastrophe</strong>. This in turn created Earth's molten inner core, which created Earth's magnetic field, protecting it from damaging solar radiation.</p>
<h2 id="stages-of-earth">Stages of Earth</h2>
<h3 id="black-earth-4-5-bya">Black Earth (4.5 BYA)</h3>
<ul>
<li>Earth was hot molten rock that began to cool and solidify to basaltic rock (modern-day oceanic crust)</li>
<li>Nothing survived from this stage</li>
</ul>
<h3 id="gray-earth-4-3-bya">Gray Earth (4.3 BYA)</h3>
<ul>
<li>Intense heat and pressure in the early Earth causes new minerals to form</li>
<li>Granite becomes the foundation of our continents</li>
<li>No life yet</li>
</ul>
<h3 id="blue-earth-3-8-bya">Blue Earth (3.8 BYA)</h3>
<ul>
<li>Earth cools enough for liquid water; water is a universal solvent which allows for organic chemistry to take place</li>
<li>Zircon crystals which could have only formed in the presence of water provides evidence that liquid oceans were present by 4.3 billion years ago</li>
<li>Life began at around 3.8 billion years ago; stromatolite fossils dated to 3.5 billion years ago</li>
</ul>
<h3 id="red-earth-3-5-bya">Red Earth (3.5 BYA)</h3>
<ul>
<li>Photosynthesizing microbes released a large amount of oxygen, rusting iron and causing it to sink to the bottom of the sea</li>
<li>Oxygen also causes the formation of more minerals</li>
</ul>
<h3 id="white-earth-540-mya">White Earth (540 MYA)</h3>
<ul>
<li>Earth plunged into a deep freeze, life is nearly wiped out</li>
<li>Volcanic activity melts the Earth and destabilizes the atmosphere</li>
</ul>
<h3 id="green-earth-520-mya-present">Green Earth (520 MYA - present)</h3>
<ul>
<li>Diversity of life exploded</li>
<li>Life creates and sculpts its surroundings</li>
</ul>
<h2 id="the-origin-of-life">The origin of life</h2>
<h3 id="building-blocks-of-life">Building blocks of life</h3>
<p>All elements are forged in the interior of stars. Stars fuse lighter elements (such as hydrogen and helium) into heavier elements, up to iron. Elements are heavier than iron are produced by supernovae. Many carbon-based molecules are brought to Earth by asteroids and comets, and early oceans allow basic organic compounds to form.</p>
<h3 id="complex-biomolecules">Complex biomolecules</h3>
<p>The Stanley-Miller experiments in the 1950s showed that a simulation of the atmosphere of early Earth (composed of water vapor, ammonia, methane, and hydrogen), combined with water, heat, and lightning, was able to synthesize simple organic compounds including amino acids. Simple organic compounds combined to form more complex organic compounds. RNA became the original self-replicating molecule, used to encode genetic information. Later, proteins and DNA formed.</p>
<h3 id="membrane-enclosure">Membrane enclosure</h3>
<p>The cell membranes of all living organisms are made of <strong>phospholipid bilayers</strong> that are composed of fatty acids. The head is hydrophilic and the tail is hydrophobic. When exposed to water, the bilayer spontaneously forms a two-layered sheet with the tails pointing toward the center. The membrane is permeable, allowing RNA nucleotides (building blocks of RNA) to enter.
With the combination of RNA and membranes, protocells form. While not life, they do have similar characteristics, such as growth and division.</p>
<h3 id="selection-and-evolutionary-change">Selection and evolutionary change</h3>
<p>The replication of RNA molecules within the protocell creates an osmotic gradient; the cell membrane stretches grabs fatty acids from the membranes of cells with lower RNA replication rates. Therefore, protocells with higher rates of RNA synthesis grow faster, and outcompete protocells with little or no RNA. The replication process of RNA causes better versions of RNA that in turn get better at replicating.</p>
<h2 id="protocells-vs-living-cells">Protocells vs living cells</h2>
<p>Protocells are <strong>not</strong> living cells, but they had many characteristics similar to modern-day living cells, such as lipid bilayer cell membranes, RNA composed of nucleotides.</p>
<h2 id="potential-life-outside-of-earth">Potential life outside of Earth</h2>
<p>Scientists believe that life can exist on worlds other than Earth, especially on planets in a star's habitable zone, which corresponds to the range of orbital distances where liquid water can exist on a planet's surface. We detect planets by looking for dips in brightness of a star, which indicate planets transiting (crossing in front of) the star. Space telescopes we use for this purpose include TESS, Kepler, and JWST. The <strong>Fermi Paradox</strong> is the question of why we haven't found life yet if there are so many planets out there.</p>
<h2 id="emergence">Emergence</h2>
<p>Emergence is the property of a system that has different properties than the sum of its parts. For example, the neurons in the brain are each not conscious, but billions of neurons attached together allow human beings to think, reason, and be self-aware. Life is the <strong>ultimate</strong> emergent property.</p>
<p>Due to the increase in entropy in every physical system as demanded by the 2nd law of thermodynamics, highly ordered systems all inevitably decay into disordered systems. Life escapes this process by constantly taking in energy from its environment - this is called a <strong>metabolism</strong>.</p>
<h2 id="the-definition-of-life">The definition of life</h2>
<p>Something is considered alive if it satisfies the following characteristics:</p>
<ul>
<li>Growth</li>
<li>Response</li>
<li>Heredity</li>
<li>Homeostasis (regulates its internal state)</li>
<li>Metabolism (converting / using energy to perform a function)</li>
<li>Reproduction</li>
<li>Order</li>
</ul>
<h2 id="early-evolution-of-life">Early evolution of life</h2>
<h3 id="hadean-eon">Hadean Eon</h3>
<p>Protocells emerge at the start of the Hadeon eon (4 BYA). Bacteria becomes the first type of life to arise (3.8 BYA).</p>
<h3 id="archean-eon">Archean Eon</h3>
<p>Archaea becomes the second domain of life, thriving in extreme environments (3.7 BYA). Later on, (initially anaerobic) photosynthetic bacteria such as <em>Aquifex</em>.</p>
<h3 id="great-oxidation-event">Great oxidation event</h3>
<p>Aerobic cyanobacteria develop and form stromatolites (3.5 - 3 BYA). Eukaryotes (complex cells with nucleus and membrane-bound organelles) develop from archea and appear (2.7 BYA).</p>
<p><strong>Endosymbiotic theory</strong> is used to explain how eukaryote cells formed - various prokaryotic cells that shared a symbiotic relationship engulfed each other to form the first eukaryotic cells.</p>
<h3 id="universal-features-of-life">Universal features of life</h3>
<p>All living cells are:</p>
<ul>
<li>Enclosed by a membrane</li>
<li>Store hereditary information in DNA</li>
<li>Replicate DNA and use RNA for DNA transcription</li>
<li>Have ribosomes and proteins to catalyze cellular reactions</li>
</ul>
<h3 id="photosynthesis">Photosynthesis</h3>
<p>Early on in the atmosphere, there was no oxygen, as oxygen is highly reactive. After oxygen levels rose, aerobic respiration became the dominant form of metabolism within cells. Chloroplasts primarily perform photosynthesis in plants.</p>
<h3 id="snowball-earth">Snowball earth</h3>
<p>Due to the increase in oxygen from the great oxidation event, greenhouse gases are reduced dramatically, causing the entire planet to cool down and freeze over. Volcanic activity melted the ice and returned Earth to normal temperatures (~650 MYA).</p>
<h3 id="ediacaran">Ediacaran</h3>
<p>The most ancient complex organisms are from the Ediacaran (600 - 540 MYA), and all lived in the oceans and didn't have shells. There is very little we know about them.</p>
<h3 id="the-cambrian-explosion">The Cambrian explosion</h3>
<p>Most of the Ediacaran life forms were extinct by 540 MYA. In their place, thousands of new species emerged in the <strong>Cambrian Explosion</strong>. These species developed modern body plans, hard shells, locomotion, nervous systems and sensory organs. Theorized causes of the Cambrian explosion include increased oxygen, increased minerals due to weathering, and the development of vision. </p>
<h3 id="tiktaalik">Tiktaalik</h3>
<p>At 360 MYA, the species Tiktaalik appeared, a transitory animal between ocean and land animals. Fully land-bound creatures appeared soon after.</p>
<h2 id="early-history-of-evolutionary-theory">Early history of evolutionary theory</h2>
<p>In 1798, Malthus proposes that many more individuals are born than can possibly survive. Erasmus Darwin proposes that 1800 that all life must be derived from one original ancestor, and slowly changed to become their current forms. Lamarck then proposed that evolution occurs by  passing on acquired traits (which was later disproven). Charles Darwin corrects this theory by realizing that competition leads to advantageous traits to be preserved, causing new species. Alfred Russel Wallace similarly published his idea that any advantageous trait would eventually be dominant.</p>
<p>However, there was an issue - the Cambrian explosion was noted by its abruptness and exceptionality, and there was no fossil record indicating an Ediacaran ancestor to the new species of the Cambrian. It is possible that the reason is due to the fact that not much rock preserving fossil evidence survives from that time period.</p>
<h2 id="natural-selection">Natural selection</h2>
<p>Natural selection, or &quot;survival of the fittest&quot;, is based on several mechanisms:</p>
<ul>
<li>Overproduction of offspring - organisms produce more offspring than will survive</li>
<li>Genetic variation - offspring each have different traits, caused by genetic variation, causing some offspring to be poorly adapted and some to be well adapted to the environment</li>
<li>Environmental pressures - offspring face challenges surviving in their environment</li>
<li>Differential survival &amp; reproduction - offspring that are well adapted to the environment survive and potentially reproduce</li>
</ul>
<h3 id="origins-of-variation">Origins of variation</h3>
<p>Nearly all genes have multiple forms (alleles), which encode the information to generate the phenotype (observed characteristics). For instance, humans that have the red hair allele leads to the phenotype of red hair.</p>
<p>Mutations are usually negative (and thus are not passed on as these individuals don't survive to reproduce) but those that are neutral or useful are passed on, causing genetic variation. Most traits follow a normal distribution within a population, as trait are determined by the <em>additive</em> effects of many genes. Evolutionary change cannot take place without variation.</p>
<h2 id="forms-of-selection">Forms of selection</h2>
<table><thead><tr><th>Type of selection</th><th>Consequences</th></tr></thead><tbody>
<tr><td>Stabilizing selection</td><td>Intermediate forms are favored and extremes are eliminated</td></tr>
<tr><td>Directional selection</td><td>Forms towards one end of the range of variation are favored</td></tr>
<tr><td>Disruptive selection</td><td>Forms at both ends of the range of variation are favored</td></tr>
</tbody></table>
<h2 id="galapagos-finches">Galapagos finches</h2>
<p>During Charles Darwin's voyage aboard the HMS Beagle, he studied the fauna of the Galapagos islands. There were 14 species endemic to the islands, and Darwin realized that they were all descended from one species.</p>
<p>During a 1978 study of <em>Geospiza fortis</em>, directional selection was demonstrated after a drought that favored the selection of larger-beaked finches.</p>
<h2 id="coevolution">Coevolution</h2>
<p>Predator and prey evolve together over time, as different species place selection pressures on each other. For example, modern-day Pronghorn are very fast due to coevolution with now-extinct large predators. New Zealand's terrestrial birds are nocturnal due to an extinct large eagle that drove birds into the night.</p>
<h2 id="sexual-selection">Sexual selection</h2>
<p>In many species, it is typical that the females of the species chose who they wanted to mate with, due to them metabolically using far more resources in the production of offspring. To showcase an individual's favorable genes to pass on to offspring (health, strength, and fitness), and in turn favorability to mate with, many species exhibit elaborate and exaggerated characteristics - such as the tails of peacocks.</p>
<h2 id="genetic-drift">Genetic drift</h2>
<p>Genetic drift is the random changes in a gene pool in a population. </p>
<p>Genetic drift plays a very important role when a population is bottlenecked (few members survive). Genetic drift means that the population is vulnerable, as there is not a lot of genetic variation, so any random change spreads easily in the population and cause the population to die off.</p>
<p>Genetic drift also causes the <strong>founder effect</strong> - when small members of a large population move to a new location, genetic diversity also decreases. So the genetics of the population reflect those of the initial members.</p>
<h2 id="classification-of-species">Classification of species</h2>
<p>The <strong>binomial nomenclature</strong> system is the standardized system used to classify organisms. A species is <em>generally</em> defined as a group of individuals that can interbreed naturally and produce viable offspring.</p>
<h2 id="causes-of-speciation">Causes of speciation</h2>
<p>Species can form from three main ways.</p>
<table><thead><tr><th>Form of speciation</th><th>Cause</th></tr></thead><tbody>
<tr><td>Allopatric speciation</td><td>Geographically isolated populations cause different mutations and different selective pressures, becoming new species</td></tr>
<tr><td>Parapatric speciation</td><td>A species with a large geographic range only reproduces locally, resulting in the formation of new species</td></tr>
<tr><td>Sympatric speciation</td><td>Differences in one population over time cause inability to interbreed and become new species</td></tr>
</tbody></table>
<h2 id="ring-species">Ring species</h2>
<p>An original population can populate around different sides of a geographic barrier and spread around the geographic barrier, but by the time the two isolated populations meet, they can no longer interbreed, producing two new species. This is called a <strong>ring species</strong>.</p>
<h2 id="mass-extinctions">Mass extinctions</h2>
<p>Mass extinctions have caused many species to grow extinct. The Permian extinction event, occurring 200 million years ago, caused 95% of species to go extinct. The K-T (cretaceous-tertiary) extinction event 65 MYA separate the age of reptiles and the age of mammals. An iridium layer at the K-T boundary in the geological record suggests that the K-T extinction event was caused by an asteroid.</p>
<p>Mass extinctions usually cause a radiation of life, as they leave many niches unoccupied by competitors, allowing new species to fill them.</p>
<h2 id="evidence-for-evolution">Evidence for evolution</h2>
<ul>
<li>Life shares a lot of common genetic information and has molecular commonalities, suggesting it evolved from a universal common ancestor</li>
<li>There is fossil evidence of life changing from one type to another (e.g. <em>Tiktaalik</em>, <em>Archaeopteryx</em>)</li>
<li>Anatomically, various different organisms exhibit various homologous morphologies (forms and structures)
<ul>
<li>Note: <strong>homologous structures</strong> are structures with similar structure and differing function, versus <strong>analogous structures</strong> are structures with different structure and similar function</li>
</ul>
</li>
</ul>
<h2 id="characteristics-of-primates">Characteristics of primates</h2>
<p>Primates are distinguished by having a grasping hand, binocular vision, a large brain, parental care, and sociality. They evolved 80-75 MYA, and have diversified with time. A 47-million year old fossil known as &quot;Ida&quot; was earliest ancestor of humans.</p>
<p>Hominid fossils have been found in different locations around the world. So scientists initially proposed the multiregional hypothesis, which stated that modern-day humans evolved from different species around the world. This has since been disproven with mitochondrial evidence, in which we now believe all modern-day humans originated in Africa and spread around the world.</p>
<p>The first step in human evolution was <em>Australopithecus Afrarensis</em> (or &quot;Lucy&quot;) 3.2 MYA, which was the first ape to develop bipedalism - standing on its two feet. The second step was <em>Homo Habilis</em> 2.3 MYA, which had a precision gripping hand for tool-making. This started the pattern of brain growth and complex social behavior for humans. Then came <em>Homo Erectus</em> 1.9 MYA, which moved out of Africa. They innovated building shelters for themselves, and fire. Next, came <em>Homo Neanderthalensis</em> 200,000 years ago, who were almost completely human. They exhibited traits of altruism, burial of their dead, stone tools, art, and likely spoken language. Modern-day humans came out of Africa soon after, likely interbred with Neanderthals, and developed agriculture 10,000 years ago.</p>

        
        <a id="jump-toc-btn" href="#toc">Show table of contents</a>
        <a href="/notes" class="return-link">Back to all notes</a>
        
    </article>

    <!-- We load KaTeX last for performance reasons -->
    <script defer src="https://jackysci.com/katex/katex.min.js"></script>
    <script defer src="https://jackysci.com/katex/contrib/auto-render.min.js"></script>
    <script defer src="https://jackysci.com/katex/contrib/mhchem.min.js"></script>
    <script defer src="https://jackysci.com/katex/contrib/copy-tex.min.js"></script>
    <script defer>
    function renderMath(element) {
        // renders math using KaTeX in a particular element
        renderMathInElement(element, {
          // customised options
          // • auto-render specific keys, e.g.:
          delimiters: [
              {left: '$$', right: '$$', display: true},
              {left: '$', right: '$', display: false},
          ],
          // • rendering keys, e.g.:
          throwOnError : false
        });
    }
    </script>
    
    <script defer>
        var toc = document.getElementById("toc");
        var tocPos = toc.offsetTop + toc.offsetHeight;
        var tocBtn = document.getElementById("jump-toc-btn");

        // return the top and bottom coordinates of the
        // user's position on the page
        function getViewport() {
            var scrollPosTop = document.documentElement.scrollTop;
            var scrollPosBottom = scrollPosTop + window.innerHeight;
            return scrollPosTop, scrollPosBottom
        }

        // for performance reasons, we **only** render a certain
        // number of equations that the viewer is actually viewing
        function VisibleMathRenderer(config) {
            /*
            Renders only a limited number of equations on page load
            to avoid poor performance
             Params:
                lastRenderedEquation: the most recently rendered equation.
                        when this goes out of view, equations under it are rendered. 
            */
            var startElement = config.startElement
            var maxEquations = config.maxEquations ? config?.maxEquations : 30;
            this.startElement = startElement
            this.maxEquations = maxEquations
            // we wait until the user scrolls past the starting/
            // ending elements to start rendering the whole page
            this.canRenderWholePage = false;
            this.pageRendered = false;
            this.lastRenderedTopEquation = null;
            this.lastRenderedBottomEquation = null;

            this.render = function() {
                renderMath(this.startElement);
                // render previous 25 and following 25 equations
                var prev = this.startElement.previousElementSibling;
                for (i = 0; i < this.maxEquations / 2; i++) {
                    // if there are no elements left prior to the element
                    if (prev == null) {
                        break;
                    }
                    renderMath(prev);
                    prev = prev.previousElementSibling;
                }
                // store our last rendered equations
                // we'll track scroll position later to
                // check when the rest of the page should be rendered
                this.lastRenderedTopEquation = prev;
                console.log(this.lastRenderedTopEquation)

                var next = this.startElement.nextElementSibling;
                for (i = 0; i < this.maxEquations / 2; i++) {
                    // if there are no elements left following the element
                    if (next.nextElementSibling == null) {
                        break;
                    }
                    renderMath(next);
                    next = next.nextElementSibling;
                }
                this.lastRenderedBottomEquation = next;
                // now allow rendering the rest of the equations
                this.canRenderWholePage = true;
            }

            // render all math on the whole page
            this.renderMathOnPage = function() {
                // don't run until preliminary tasks
                // are done so that the whole page
                // can/should be rendered
                if (!this.canRenderWholePage) {
                    return;
                }
                // if the whole page's worth of equations
                // are already rendered, don't render more
                if (this.pageRendered) {
                    return;
                }
                var topBound = this.lastRenderedTopEquation.getBoundingClientRect.top;
                var bottomBound = this.lastRenderedBottomEquation.getBoundingClientRect.bottom;
                var scrollTop, scrollBottom = getViewport();
                // if the user is about to scroll past the initially-rendered equations
                // we will render the whole page
                if (scrollTop - 50 + window.scrollY < topBound || scrollBottom + 50 + window.scrollY > bottomBound) {
                    console.log("Scrolled beyond!")
                    var article = document.querySelector(".post");
                    if (article) {
                        this.renderMath(article);
                    }
                    this.pageRendered = true;
                }
                
            }
            
        }

        function showTocBtnOnScroll() {
            // don't show toc button on print media
            if (window.matchMedia('print').matches){ return; }
            var _, scrollBottom = getViewport();
            // get bottom of viewport scroll position
            if (scrollBottom > tocPos) {
                tocBtn.style.display = "block";
            } else {
                tocBtn.style.display = "none";
            }
        }

        function findFirstRelevantElement() {
            // finds the first <p> tage that's closest to
            // the viewer's viewport
            var regex = /#.*/;
            var m = regex.exec(window.location.href);
            if (m !== null) {
                return document.querySelector(m[0]);
            } else {
                return document.querySelector(".post p");
            }
        }
        
        // initialize page JS components
        /*
        var mathRenderer = new VisibleMathRenderer({
            // start rendering with first <p> tag on the
            // post
            startElement: findFirstRelevantElement()
        });
        */
        document.addEventListener("DOMContentLoaded", function() {
            showTocBtnOnScroll();
            var article = document.querySelector(".post");
            if (article) {
                renderMath(article);
            }
        })

        window.onscroll = function(){
            // if (!mathRenderer.pageRendered) {
            //     mathRenderer.renderMathOnPage();
            // }
            showTocBtnOnScroll();
        };


    </script>
    


</body>

</html>
